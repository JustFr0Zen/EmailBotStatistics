<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>EmailBot Statistics</title>
    <meta name="description" content="Statistics about the Discord/EmailBot">
    <meta name="keywords" content="EmailBot Discord Lars Kaesberg Statistics">
    <meta name="author" content="Sebastian K.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://bootswatch.com/5/solar/bootstrap.min.css">
    <link rel="icon" href="https://raw.githubusercontent.com/lkaesberg/EmailBot/main/images/emailbot.png">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@^3"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@^2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@^1"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <img style="width: 40px; margin: 0 20px 0 20px" class="h-auto"
             src="https://raw.githubusercontent.com/lkaesberg/EmailBot/main/images/emailbot.png" alt="Logo"/>
        <a class="navbar-brand" href="https://emailbot.larskaesberg.de">EmailBot Statistics</a>
        <div class="collapse navbar-collapse" id="navbarColor02">
            <div class="navbar-nav me-auto"></div>
            <div class="d-flex">
                Made by Sebastian K.
            </div>
        </div>
    </div>
</nav>
<main class="d-flex">
    <div style="width: 80%" class="m-auto">
        <div class="w-100 d-flex flex-column-reverse flex-sm-row justify-content-between align-content-center mt-3">
            <h2 class="mt-2 mt-sm-0">Mails/hour</h2>
            <div class="d-flex flex-row-reverse gap-1 justify-content-around justify-content-sm-start">
                <button onclick="setTimeInterval(undefined)" type="button" class="btn btn-info"
                        style="height: min-content">All time
                </button>
                <button onclick="setTimeInterval(31)" type="button" class="btn btn-info"
                        style="height: min-content">
                    31d
                </button>
                <button onclick="setTimeInterval(7)" type="button" class="btn btn-info"
                        style="height: min-content">7d
                </button>
                <button onclick="setTimeInterval(1)" type="button" class="btn btn-info"
                        style="height: min-content">
                    24h
                </button>
            </div>
        </div>
        <div style="width: 100%; height: 25vh;">
            <canvas id="mails-hour-chart"></canvas>
        </div>
        <h2 style="margin-top: 3rem">Server Count</h2>
        <div style="width: 100%; height: 25vh;">
            <canvas id="server-count-chart"></canvas>
        </div>
        <h2 style="margin-top: 3rem">Total Mails</h2>
        <div style="width: 100%; height: 25vh;">
            <canvas id="total-mails-chart"></canvas>
        </div>
    </div>
</main>

<footer class="mt-4 d-flex justify-content-center bg-dark">
    <a class="gap-2 d-flex align-items-center text-decoration-none pt-2 pb-2" href="https://github.com/JustFr0Zen/EmailBotStatistics">
        <img class="gap-2" src="/static/Mark.png" alt="Github">
        <p class="gap-2 p-0 m-0">Star this project</p>
    </a>
</footer>

<script src="/static/Statistics.js"></script>
<script>
    const statisticData = {{ statistics|safe }};
    const statistic = new Statistics(statisticData || []);

    statistic.load();
    const setTimeInterval = statistic.setTimeInterval;
</script>
</body>
</html>